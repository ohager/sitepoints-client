var _spc=_spc||{};!function(n){var t=new n.PointTracker,c=new n.Storage(new n.Config);t.startClickTracking(function(n){c.push(n),console.log(JSON.stringify(c.data()))})}(_spc);var _spc=_spc||{};_spc.Config=function(n){function t(n,t){return c&&c[n]?c[n]:t}var c=n;this.serverHost=t("serverHost","http://localhost:3000"),this.cacheSize=t("cacheSize",10),this.cacheTimeout=t("cacheTimeout",10)};var _spc=_spc||{};_spc.PointTracker=function(){var n,t,c=window.onmousemove,i=window.onclick,o=function(n,c){t={x:n.screenX,y:n.screenY,url:window.href,timestamp:Date.now()},c&&c(n)};this.startClickTracking=function(n){window.onclick=function(c){o(c,i),n(t)}},this.stopClickTracking=function(){window.onclick=i},this.startIntervalTracking=function(i,e){window.onmousemove=function(n){o(n,c)},clearInterval(n),setInterval(function(){t&&i(t)},e)},this.stopIntervalTracking=function(){clearInterval(n),window.onmousemove=c}};var _spc=_spc||{};_spc.Storage=function(n){var t,c=this,i=(n.serverHost,n.cacheSize),o=1e3*n.cacheTimeout,e=[],s=function(){e=[]};this.push=function(n){e.push(n),o>0&&(clearTimeout(t),t=setTimeout(function(){c.flush()},o)),e.length>=i&&c.flush()},this.data=function(){return e.slice()},this.flush=function(){console.log("Flushed Storage"),s()}};